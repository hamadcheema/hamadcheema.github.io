<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Baatly Chat</title>
  <link rel="stylesheet" href="chat.css">
  <style>
    /* --- Reset & Body --- */
    body{margin:0;font-family:Arial,sans-serif;background:#f4f4f9;color:#333;}
    .wrap{max-width:900px;margin:0 auto;background:#fff;border-radius:10px;box-shadow:0 8px 26px rgba(10,20,30,0.06);display:flex;flex-direction:column;height:100vh;overflow:hidden;position:relative;}
    h2{margin:0;color:#042a57;font-size:20px;text-align:center;padding:10px;border-bottom:1px solid #eee;}

    /* --- Messages --- */
    #messages{flex:1;overflow-y:auto;padding:12px;background:#fafbfd;display:flex;flex-direction:column;}
    .msg-row{display:flex;gap:10px;margin-bottom:12px;align-items:flex-start;opacity:0;transform:translateX(-50px);animation:slideIn 0.3s forwards;}
    @keyframes slideIn{to{opacity:1;transform:translateX(0);}}
    .avatar{width:40px;height:40px;border-radius:50%;object-fit:cover;}
    .bubble{background:#fff;padding:10px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,0.03);min-width:70px;max-width:74%;position:relative;}
    .meta{font-weight:700;color:#042a57;margin-bottom:4px;font-size:13px}
    .time{font-weight:400;color:#666;font-size:11px;margin-left:8px}
    .chat-img{max-width:220px;border-radius:8px;display:block;margin-top:6px;}
    .reactions{margin-top:6px;display:flex;gap:6px;align-items:center;flex-wrap:wrap;}
    .reaction-btn{padding:4px 8px;border-radius:14px;background:#f6f6f6;cursor:pointer;font-size:12px;}
    .reaction-btn.you{background:#dfeffd;}

    /* --- Controls --- */
    .controls{display:flex;gap:6px;align-items:center;padding:8px;background:#fff;border-top:1px solid #ddd;position:relative;}
    #msgInput{flex:1;padding:10px;border-radius:8px;border:1px solid #ddd;font-size:14px}
    #emojiPicker{display:flex;gap:4px;flex-wrap:wrap;margin-top:4px;max-height:120px;overflow:auto;transition:all 0.3s ease;}
    #emojiPicker span{cursor:pointer;padding:6px;border-radius:6px;background:#f0f0f0;font-size:18px;transition:all 0.2s ease;}
    #emojiPicker span:hover{background:#dfeffd;transform:scale(1.2);}

    .preview{margin-top:6px;padding:0 8px}
    .preview img{max-width:100px;border-radius:8px;display:block;margin-bottom:4px}

    /* --- Notifications --- */
    .notify{position:absolute;top:10px;left:50%;transform:translateX(-50%);background:#007bff;color:#fff;padding:8px 16px;border-radius:8px;box-shadow:0 2px 6px rgba(0,0,0,0.2);opacity:0;transition:opacity 0.4s ease;}

    /* --- Options / Hamburger --- */
    .options-btn{position:absolute;top:12px;right:12px;font-size:24px;cursor:pointer;}
    .options-menu{position:absolute;top:40px;right:12px;background:#fff;box-shadow:0 4px 16px rgba(0,0,0,0.2);border-radius:8px;overflow:hidden;display:none;flex-direction:column;}
    .options-menu button{padding:10px 16px;background:#fff;border:none;text-align:left;cursor:pointer;transition:0.2s;}
    .options-menu button:hover{background:#f0f0f0;}

    /* --- Settings Panel --- */
    .settings-panel{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;padding:20px;border-radius:12px;box-shadow:0 4px 16px rgba(0,0,0,0.2);display:none;flex-direction:column;gap:12px;width:300px;}
    .settings-panel input{padding:8px;border-radius:6px;border:1px solid #ccc;width:100%;}
    .settings-panel button{padding:8px 12px;border-radius:6px;border:none;background:#007bff;color:#fff;cursor:pointer;}
    .settings-panel .close-settings{position:absolute;top:8px;right:12px;font-size:20px;cursor:pointer;}
  </style>
</head>
<body>
  <div class="wrap">
    <h2 id="welcome">Welcome</h2>
    <div class="options-btn" id="optionsBtn">â˜°</div>
    <div class="options-menu" id="optionsMenu">
      <button id="logoutBtn">Logout</button>
      <button id="settingsBtn">Settings</button>
    </div>

    <div id="messages"></div>

    <div class="preview" id="imgPreview" style="display:none"></div>
    <div class="controls">
      <input id="msgInput" placeholder="Write a message"/>
      <button id="emojiToggle">ðŸ˜€</button>
      <input id="fileInput" type="file" accept="image/*" style="display:none"/>
      <button id="imgBtn">ðŸ“·</button>
      <button id="sendBtn">Send</button>
    </div>
    <div id="emojiPicker" style="display:none"></div>

    <div class="settings-panel" id="settingsPanel">
      <div class="close-settings" id="closeSettings">Ã—</div>
      <input type="file" id="profilePicInput" accept="image/*"/>
      <img id="profilePreview" style="width:80px;height:80px;border-radius:50%;display:none;margin:auto"/>
      <input type="text" id="usernameInput" placeholder="Change username"/>
      <input type="email" id="emailInput" placeholder="Change email"/>
      <input type="password" id="passwordInput" placeholder="Change password"/>
      <button id="updateSettingsBtn">Update</button>
    </div>

    <div class="notify" id="notify"></div>
  </div>

  <script type="module" src="chat.js"></script>
</body>
</html>
