<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Baatly Chat</title>
<link rel="stylesheet" href="chat.css">
<style>
  body{font-family:Arial,Helvetica,sans-serif;background:#f4f4f9;margin:0;padding:0}
  .wrap{max-width:860px;margin:0 auto;background:#fff;border-radius:10px;box-shadow:0 8px 26px rgba(10,20,30,0.06);display:flex;flex-direction:column;height:100vh;position:relative;}
  h2{margin:0;color:#042a57;font-size:20px;text-align:center;padding:8px;display:flex;align-items:center;justify-content:space-between;}
  #messages{flex:1;overflow-y:auto;padding:12px;background:#fafbfd;transition:all 0.3s;}
  .msg-row{display:flex;gap:10px;margin-bottom:12px;align-items:flex-start;opacity:0;transform:translateX(-50px);animation:slideIn 0.3s forwards;}
  @keyframes slideIn{to{opacity:1;transform:translateX(0);}}
  .avatar{width:38px;height:38px;border-radius:50%;object-fit:cover;}
  .bubble{background:#fff;padding:10px;border-radius:10px;box-shadow:0 2px 8px rgba(0,0,0,0.03);min-width:70px;max-width:74%;transition:all 0.2s;}
  .bubble:hover{transform:scale(1.02);}
  .meta{font-weight:700;color:#042a57;margin-bottom:4px;font-size:13px}
  .time{font-weight:400;color:#666;font-size:11px;margin-left:8px}
  .chat-img{max-width:220px;border-radius:8px;display:block;margin-top:6px;cursor:pointer;}
  .caption{color:#222;margin-top:4px;font-size:13px}
  .controls{display:flex;gap:6px;align-items:center;padding:8px;background:#fff;border-top:1px solid #ddd;position:relative;z-index:1;}
  #msgInput{flex:1;padding:10px;border-radius:8px;border:1px solid #ddd;font-size:14px}
  #emojiPicker{display:flex;gap:4px;flex-wrap:wrap;margin-top:4px;max-height:120px;overflow:auto;transition:all 0.2s;}
  #emojiPicker span{cursor:pointer;padding:6px;border-radius:6px;background:#f0f0f0;font-size:18px;transition:0.2s;}
  #emojiPicker span:hover{background:#dfeffd;}
  .preview{margin-top:6px;padding:0 8px;display:flex;gap:4px;}
  .preview img{max-width:100px;border-radius:8px;display:block;margin-bottom:4px;}
  .reactions {margin-top:6px; display:flex; gap:6px; align-items:center; flex-wrap:wrap}
  .reaction-btn{padding:4px 8px;border-radius:14px;background:#f6f6f6;cursor:pointer;font-size:12px;transition:0.2s;}
  .reaction-btn.you{background:#dfeffd;}
  /* Notification */
  .notify{position:fixed;top:10px;left:50%;transform:translateX(-50%);background:#00bfff;color:#fff;padding:10px 20px;border-radius:8px;z-index:999;animation:fadeinout 3s forwards;}
  @keyframes fadeinout{0%{opacity:0;transform:translateX(-50%) translateY(-20px);}10%,90%{opacity:1;transform:translateX(-50%) translateY(0);}100%{opacity:0;transform:translateX(-50%) translateY(-20px);}}
  /* Settings Modal */
  #settingsModal{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;padding:20px;border-radius:10px;box-shadow:0 8px 26px rgba(10,20,30,0.3);z-index:1000;width:300px;display:none;}
  #settingsModal h3{margin-top:0;display:flex;justify-content:space-between;align-items:center;}
  #settingsModal input{width:100%;margin:6px 0;padding:8px;border-radius:6px;border:1px solid #ccc;}
  #settingsModal button{padding:8px 12px;margin-top:6px;border:none;border-radius:6px;background:#00bfff;color:#fff;cursor:pointer;}
  #overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.3);z-index:900;display:none;}
  .optionsBtn{cursor:pointer;font-size:24px;margin-right:8px;}
</style>
</head>
<body>
<div class="wrap">
  <h2>
    <span>Baatly</span>
    <span class="optionsBtn" id="openOptions">â˜°</span>
  </h2>
  <div style="padding:6px;text-align:center;display:none;" id="topOptions">
    <button id="logoutBtn">Logout</button>
    <button id="openSettingsBtn">Settings</button>
  </div>

  <div id="messages"></div>

  <div class="preview" id="imgPreview" style="display:none"></div>
  <div class="controls">
    <input id="msgInput" placeholder="Write a message"/>
    <button id="emojiToggle">ðŸ˜€</button>
    <input id="fileInput" type="file" accept="image/*" style="display:none" />
    <button id="imgBtn">ðŸ“·</button>
    <button id="sendBtn">Send</button>
  </div>
  <div id="emojiPicker" style="display:none"></div>
</div>

<div id="overlay"></div>

<div id="settingsModal">
  <h3>Settings <span id="closeSettings" style="cursor:pointer">âœ–</span></h3>
  <div style="text-align:center">
    <img id="profilePreview" src="" alt="Profile Preview" style="width:80px;height:80px;border-radius:50%;object-fit:cover;margin-bottom:6px;">
    <input type="file" id="profilePicInput" accept="image/*"/>
  </div>
  <input id="usernameInput" placeholder="Change username"/>
  <input id="emailInput" placeholder="Change email"/>
  <input id="passwordInput" placeholder="Change password" type="password"/>
  <button id="saveSettings">Save</button>
</div>

<script type="module" src="chat.js"></script>
</body>
</html>
