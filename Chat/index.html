<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Baatly Chat</title>
<link rel="stylesheet" href="chat.css">
<style>
  body {font-family: Arial, Helvetica, sans-serif; margin:0; padding:0; background:#f4f4f9;}
  .wrap {max-width:860px; margin:0 auto; background:#fff; border-radius:10px; box-shadow:0 8px 26px rgba(10,20,30,0.06); display:flex; flex-direction:column; height:100vh; overflow:hidden;}
  h2 {margin:0; color:#042a57; font-size:20px; text-align:center; padding:8px;}
  #messages {flex:1; overflow-y:auto; padding:12px; background:#fafbfd;}
  .msg-row {display:flex; gap:10px; margin-bottom:12px; align-items:flex-start; animation: slideIn 0.3s ease;}
  @keyframes slideIn {from {opacity:0; transform: translateY(20px);} to {opacity:1; transform: translateY(0);}}
  .avatar {width:38px; height:38px; border-radius:50%; object-fit:cover;}
  .bubble {background:#fff; padding:10px; border-radius:10px; box-shadow:0 2px 8px rgba(0,0,0,0.03); min-width:70px; max-width:74%; position:relative; transition: transform 0.2s;}
  .bubble:hover {transform: translateY(-2px);}
  .meta {font-weight:700; color:#042a57; margin-bottom:4px; font-size:13px;}
  .time {font-weight:400; color:#666; font-size:11px; margin-left:8px;}
  .chat-img {max-width:220px; border-radius:8px; display:block; margin-top:6px; cursor:pointer; transition: 0.2s;}
  .chat-img:hover {transform: scale(1.05);}
  .caption {color:#222; margin-top:4px; font-size:13px;}
  .controls {display:flex; gap:6px; align-items:center; padding:8px; background:#fff; border-top:1px solid #ddd;}
  #msgInput {flex:1; padding:10px; border-radius:8px; border:1px solid #ddd; font-size:14px;}
  #emojiPicker {display:flex; gap:4px; flex-wrap:wrap; margin-top:4px; max-height:120px; overflow:auto; transition: all 0.3s ease;}
  #emojiPicker span {cursor:pointer; padding:6px; border-radius:6px; background:#f0f0f0; font-size:18px; transition: 0.2s;}
  #emojiPicker span:hover {background:#dfeffd;}
  .preview {margin-top:6px; padding:0 8px;}
  .preview img {max-width:100px; border-radius:8px; display:block; margin-bottom:4px;}
  .reactions {margin-top:6px; display:flex; gap:6px; align-items:center; flex-wrap:wrap;}
  .reaction-btn {padding:4px 8px; border-radius:14px; background:#f6f6f6; cursor:pointer; font-size:12px; transition:0.2s;}
  .reaction-btn.you {background:#dfeffd;}
  /* Fullscreen image modal */
  #imgModal {display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); justify-content:center; align-items:center; z-index:1000;}
  #imgModal img {max-width:90%; max-height:90%; border-radius:8px;}
  #imgModal span {position:absolute; top:20px; right:30px; font-size:30px; color:#fff; cursor:pointer;}
  /* Settings panel */
  #settingsPanel {display:none; position:absolute; top:0; right:0; width:300px; height:100%; background:#fff; box-shadow:-2px 0 12px rgba(0,0,0,0.1); padding:20px; z-index:1000; overflow-y:auto;}
  #settingsPanel h3 {margin-top:0; color:#042a57;}
  .setting-btn {margin-top:6px; padding:6px 10px; border:none; border-radius:6px; background:#dfeffd; cursor:pointer; transition:0.2s;}
  .setting-btn:hover {background:#bcd4ff;}
  #menuBtn {position:absolute; top:10px; left:10px; font-size:22px; cursor:pointer; z-index:100;}
</style>
</head>
<body>
<div class="wrap">
  <div id="menuBtn">â˜°</div>
  <h2 id="welcome">Welcome</h2>
  <div id="messages"></div>

  <div class="preview" id="imgPreview" style="display:none"></div>
  <div class="controls">
    <input id="msgInput" placeholder="Write a message"/>
    <button id="emojiToggle">ðŸ˜€</button>
    <input id="fileInput" type="file" accept="image/*" style="display:none" />
    <button id="imgBtn">ðŸ“·</button>
    <button id="sendBtn">Send</button>
  </div>
  <div id="emojiPicker" style="display:none"></div>
</div>

<!-- Fullscreen image modal -->
<div id="imgModal"><span id="closeModal">&times;</span><img src=""></div>

<!-- Settings Panel -->
<div id="settingsPanel">
  <h3>Settings</h3>
  <label>Name:</label><input id="usernameInput" type="text" style="width:100%; margin-bottom:6px;"/>
  <button class="setting-btn" id="changeNameBtn">Change Name</button>

  <label>Email:</label><input id="emailInput" type="email" style="width:100%; margin-bottom:6px;"/>
  <button class="setting-btn" id="changeEmailBtn">Change Email</button>

  <label>Password:</label><input id="passwordInput" type="password" style="width:100%; margin-bottom:6px;"/>
  <button class="setting-btn" id="changePasswordBtn">Change Password</button>

  <label>Profile Pic:</label><input id="profilePicInput" type="file" accept="image/*" style="width:100%; margin-bottom:6px;"/>
  <button class="setting-btn" id="changeProfileBtn">Change Profile Picture</button>

  <button class="setting-btn" id="logoutBtn">Logout</button>
</div>

<script type="module" src="chat.js"></script>
</body>
</html>
