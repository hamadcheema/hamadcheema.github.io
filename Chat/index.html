<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Baatly Chat</title>
<link rel="stylesheet" href="../styles.css">
<style>
  body {font-family:Arial, Helvetica, sans-serif; margin:0; background:#f4f4f9;}
  .chat-container {max-width:900px;margin:0 auto;display:flex;flex-direction:column;height:100vh;background:#fff;border-radius:12px;box-shadow:0 8px 26px rgba(0,0,0,0.1);}
  .header {display:flex;justify-content:space-between;align-items:center;padding:10px 20px;background:#667eea;color:#fff;border-radius:12px 12px 0 0;position:relative;}
  .header h2{margin:0;font-size:20px;}
  .menu-btn{font-size:24px;cursor:pointer;}
  .menu-panel{position:absolute;top:50px;right:20px;background:#fff;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.1);display:none;flex-direction:column;overflow:hidden;z-index:10;}
  .menu-panel button{padding:10px 20px;border:none;background:#fff;text-align:left;cursor:pointer;transition:0.3s;}
  .menu-panel button:hover{background:#f0f0f0;}
  .settings-panel{position:absolute;top:50px;right:20px;background:#fff;border-radius:12px;padding:20px;box-shadow:0 8px 26px rgba(0,0,0,0.1);display:none;z-index:10;width:250px;}
  .settings-panel input{width:100%;padding:8px;margin:6px 0;border-radius:6px;border:1px solid #ccc;}
  .settings-panel button{width:100%;padding:10px;margin-top:6px;border:none;border-radius:6px;background:#667eea;color:#fff;cursor:pointer;transition:0.3s;}
  #messages{flex:1;overflow-y:auto;padding:12px;background:#fafbfd;}
  .msg-row{display:flex;gap:10px;margin-bottom:12px;align-items:flex-start;opacity:0;transform:translateX(-20px);transition:0.3s;}
  .msg-row.slide-in{opacity:1;transform:translateX(0);}
  .avatar{width:38px;height:38px;border-radius:50%;}
  .bubble{background:#fff;padding:10px;border-radius:10px;box-shadow:0 2px 8px rgba(0,0,0,0.03);min-width:70px;max-width:74%;}
  .meta{font-weight:700;color:#042a57;margin-bottom:4px;font-size:13px;}
  .time{font-weight:400;color:#666;font-size:11px;margin-left:8px;}
  .chat-img{max-width:220px;border-radius:8px;display:block;margin-top:6px;}
  .controls{display:flex;gap:6px;align-items:center;padding:8px;background:#fff;border-top:1px solid #ddd;}
  #msgInput{flex:1;padding:10px;border-radius:8px;border:1px solid #ddd;font-size:14px;}
  #emojiPicker{display:flex;gap:4px;flex-wrap:wrap;margin-top:4px;max-height:120px;overflow:auto;transition:0.3s;opacity:0;}
  #emojiPicker.show{opacity:1;}
  #emojiPicker span{cursor:pointer;padding:6px;border-radius:6px;background:#f0f0f0;font-size:18px;}
  .preview{margin-top:6px;padding:0 8px;}
  .preview img{max-width:100px;border-radius:8px;display:block;margin-bottom:4px;}
  .reactions {margin-top:6px; display:flex; gap:6px; align-items:center; flex-wrap:wrap;}
  .reaction-btn{padding:4px 8px;border-radius:14px;background:#f6f6f6;cursor:pointer;font-size:12px;}
  .reaction-btn.you{background:#dfeffd;}
  .notification{position:fixed;top:10px;left:50%;transform:translateX(-50%);padding:10px 20px;border-radius:6px;color:#fff;font-weight:600;animation:fadein 0.5s, fadeout 0.5s 2.5s;z-index:100;}
  .notification.success{background:#38a169;}
  .notification.error{background:#e53e3e;}
  @keyframes fadein{0%{opacity:0;}100%{opacity:1;}}
  @keyframes fadeout{0%{opacity:1;}100%{opacity:0;}}
</style>
</head>
<body>
<div class="chat-container">
  <div class="header">
    <h2 id="welcome">Welcome</h2>
    <div class="menu-btn">&#9776;</div>
    <div class="menu-panel">
      <button id="menuSettingsBtn">Settings</button>
      <button id="logoutBtn">Logout</button>
    </div>
    <div class="settings-panel" id="settingsPanel">
      <input type="text" id="newName" placeholder="Change username">
      <input type="email" id="newEmail" placeholder="Change email">
      <input type="password" id="newPass" placeholder="Change password">
      <input type="file" id="profilePicInput" accept="image/*">
      <button id="updateBtn">Update Profile</button>
      <button id="closeSettings">Close</button>
    </div>
  </div>

  <div id="messages"></div>

  <div class="preview" id="imgPreview" style="display:none"></div>
  <div class="controls">
    <input id="msgInput" placeholder="Write a message"/>
    <button id="emojiToggle">ðŸ˜€</button>
    <input id="fileInput" type="file" accept="image/*" style="display:none" />
    <button id="imgBtn">ðŸ“·</button>
    <button id="sendBtn">Send</button>
  </div>
  <div id="emojiPicker"></div>
</div>

<script type="module" src="./chat.js"></script>
</body>
</html>
