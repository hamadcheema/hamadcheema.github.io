*{margin:0;padding:0;box-sizing:border-box;font-family:Arial,sans-serif;}
body{background:#f4f4f9;color:#333;height:100vh;display:flex;justify-content:center;align-items:center;}
button{cursor:pointer;transition:0.3s;outline:none;}
button:hover{opacity:0.9;}
input,button{font-family:inherit;}

.container{
  max-width:900px;width:100%;margin:0 auto;background:#fff;border-radius:12px;
  display:flex;flex-direction:column;height:100vh;overflow:hidden;
}

/* ---- Header ---- */
.header{
  flex-shrink:0;
  display:flex;justify-content:space-between;align-items:center;
  padding:10px 15px;background:#667eea;color:#fff;position:sticky;top:0;z-index:20;
}
.header h2{font-size:18px;}
.menu-btn{font-size:24px;cursor:pointer;}
.menu-panel{
  position:absolute;top:50px;right:15px;background:#fff;border-radius:8px;
  display:none;flex-direction:column;overflow:hidden;z-index:100;
}
.menu-panel button{padding:10px 20px;border:none;background:#fff;text-align:left;}
.menu-panel button:hover{background:#f0f0f0;}

/* ---- Messages ---- */
#messages{
  flex:1; overflow-y:auto; padding:12px; background:#fafbfd;
  display:flex; flex-direction:column;
}
.msg-row{
  display:flex; gap:10px; margin-bottom:12px; align-items:flex-start;
}
.msg-row.self{justify-content:flex-end;}
.avatar{width:40px;height:40px;border-radius:50%;object-fit:cover;}
.bubble{
  background:#fff;padding:10px 14px;border-radius:18px;
  box-shadow:0 2px 8px rgba(0,0,0,0.05);max-width:70%;
  word-wrap:break-word;white-space:pre-wrap;overflow-wrap:break-word;
}
.msg-row.self .bubble{background:#dcf8c6;}
.meta{font-weight:700;color:#042a57;margin-bottom:4px;font-size:13px;}
.time{font-weight:400;color:#666;font-size:11px;margin-left:8px;}
.chat-img{max-width:220px;border-radius:12px;display:block;margin-top:6px;cursor:pointer;}

/* ---- Reactions ---- */
.reactions{
  display:flex; gap:6px; margin-top:6px; flex-wrap:wrap;
}
.reaction-btn{
  background:#f0f0f0;border-radius:16px;padding:4px 8px;font-size:14px;
  cursor:pointer;user-select:none;transition:0.2s;
}
.reaction-btn:hover{background:#e0e0e0;}
.reaction-btn.you{background:#667eea;color:#fff;font-weight:bold;}

/* ---- Controls ---- */
.controls{
  flex-shrink:0;
  display:flex; gap:8px; align-items:center; padding:10px;
  border-top:1px solid #ddd; background:#fff; position:sticky;bottom:0;z-index:20;
}
#msgInput{
  flex:1; padding:10px 14px; border-radius:20px; border:1px solid #ddd; font-size:14px;
}
.send-btn{
  padding:10px 16px; border-radius:50%; background:#667eea; color:#fff; border:none; font-size:18px;
}
.icon-btn{
  padding:10px 14px; border-radius:50%; background:#e0e0e0; border:none; font-size:18px;
}

.preview{margin:6px 8px; display:flex; gap:6px;}
.preview img{max-width:100px;border-radius:12px;}

/* ---- Notifications ---- */
#notifyContainer{position:fixed;top:10px;left:50%;transform:translateX(-50%);z-index:200;}
.notification{
  padding:10px 20px;border-radius:6px;color:#fff;font-weight:600;margin-bottom:6px;
  opacity:0; animation:fadein 0.5s forwards, fadeout 0.5s 2.5s forwards;
}
.notification.success{background:#38a169;}
.notification.error{background:#e53e3e;}
@keyframes fadein{0%{opacity:0;}100%{opacity:1;}}
@keyframes fadeout{0%{opacity:1;}100%{opacity:0;}}

@media(max-width:600px){
  .bubble{max-width:85%;}
  .send-btn,.icon-btn{padding:12px;}
}
